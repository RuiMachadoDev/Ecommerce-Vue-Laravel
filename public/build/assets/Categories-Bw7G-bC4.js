import{p as u,q as x,c as n,a as o,F as C,m as h,t as f,k as y,s as b,i as v,d as i,o as d}from"./app-D6BBhhMh.js";import{_ as w}from"./_plugin-vue_export-helper-DlAUqK2U.js";const _={setup(){const l=u([]),t=u(!1),s=x({id:null,name:"",slug:""}),e=async()=>{const r=await i.get("/api/categories");l.value=r.data},g=()=>{t.value=!0,s.id=null,s.name="",s.slug=""},m=r=>{t.value=!0,s.id=r.id,s.name=r.name,s.slug=r.slug},a=async()=>{await i.get("/sanctum/csrf-cookie")},c=async()=>{try{await a(),s.id?await i.put(`/api/categories/${s.id}`,s):await i.post("/api/categories",s),e(),t.value=!1}catch(r){console.error(r.response.data)}},p=async r=>{await i.delete(`/api/categories/${r}`),e()};return e(),{categories:l,formVisible:t,formData:s,showCreateForm:g,editCategory:m,saveCategory:c,deleteCategory:p}}},k={class:"max-w-4xl mx-auto bg-white shadow-md rounded-lg p-6 mt-8 text-gray-800"},D={class:"space-y-4"},V={class:"text-lg font-medium"},F={class:"space-x-2"},E=["onClick"],N=["onClick"],B={key:0,class:"mt-6 bg-gray-50 p-4 rounded-lg shadow"},S={class:"text-xl font-semibold mb-4"},A={class:"mb-4"},U={class:"mb-4"};function j(l,t,s,e,g,m){return d(),n("div",k,[t[4]||(t[4]=o("h1",{class:"text-2xl font-bold mb-6 text-center"},"GestÃ£o de Categorias",-1)),o("button",{onClick:t[0]||(t[0]=(...a)=>e.showCreateForm&&e.showCreateForm(...a)),class:"bg-gray-800 text-white px-4 py-2 rounded-md hover:bg-gray-700 transition mb-4"}," Adicionar Nova Categoria "),o("ul",D,[(d(!0),n(C,null,h(e.categories,a=>(d(),n("li",{key:a.id,class:"flex justify-between items-center bg-gray-100 p-4 rounded-lg shadow-sm"},[o("span",V,f(a.name),1),o("div",F,[o("button",{onClick:c=>e.editCategory(a),class:"bg-gray-800 text-white px-3 py-1 rounded-md hover:bg-gray-700 transition"}," Editar ",8,E),o("button",{onClick:c=>e.deleteCategory(a.id),class:"bg-red-600 text-white px-3 py-1 rounded-md hover:bg-red-500 transition"}," Excluir ",8,N)])]))),128))]),e.formVisible?(d(),n("div",B,[o("h2",S,f(e.formData.id?"Editar Categoria":"Adicionar Categoria"),1),o("div",A,[y(o("input",{"onUpdate:modelValue":t[1]||(t[1]=a=>e.formData.name=a),type:"text",placeholder:"Nome da Categoria",class:"w-full p-2 bg-gray-100 border border-gray-300 rounded-md focus:ring focus:ring-gray-500"},null,512),[[b,e.formData.name]])]),o("div",U,[y(o("input",{"onUpdate:modelValue":t[2]||(t[2]=a=>e.formData.slug=a),type:"text",placeholder:"Slug",class:"w-full p-2 bg-gray-100 border border-gray-300 rounded-md focus:ring focus:ring-gray-500"},null,512),[[b,e.formData.slug]])]),o("button",{onClick:t[3]||(t[3]=(...a)=>e.saveCategory&&e.saveCategory(...a)),class:"bg-gray-800 text-white px-4 py-2 rounded-md hover:bg-gray-700 transition"}," Salvar ")])):v("",!0)])}const G=w(_,[["render",j]]);export{G as default};
